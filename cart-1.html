<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous">
  <link href="./css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="./css/handwrite.css">

</head>

<body>
  <nav class=" p-0 navbar navbar-expand-md navbar-light bg-light">
    <div
      class="mw-1280 container  d-flex mx-0 xl-mx-auto flex-row md-flex-row md-justify-content-between px-3 md-px-24 lg-px-32">
      <a class="d-block navbar-brand-6 p-3" href="#"><img class="logo" src="./svg/資產 1.svg" alt=""></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02"
        aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
        <img class="w-24 h-24" src="./svg/svgexport-1.svg" alt="">
      </button>
      <div class="collapse navbar-collapse flex justify-content-center md-justify-end" id="navbarTogglerDemo02">
        <ul class="navbar-nav mb-2 mb-lg-0 ">
          <li class="nav-item text-center align-items-center d-flex">
            <a class="btn fw-bolder px-3 py-2 fs-7 text-dark">Blog</a>
          </li>
          <li class="nav-item text-center align-items-center d-flex">
            <a class="btn fw-bolder px-3 py-2 fs-7 text-dark">Portfolio</a>
          </li>
          <li class="nav-item text-center align-items-center d-flex">
            <a class="btn fw-bolder px-3 py-2 fs-7 text-dark">About</a>
          </li>
          <li class="nav-item text-center align-items-center d-flex">
            <a class="btn fw-bolder px-3 py-2 fs-7 text-dark">Contact</a>
          </li>
          <li class="nav-item text-center">
            <a href="./cart.html" class="btn fw-bolder px-2 py-2 fs-30 text-dark"><i
                class="fs-4 fas fa-shopping-cart"></i></a href="">
            <button class="btn fw-bolder px-2 py-2 fs-30 text-dark" onclick="loginfunction()" data-state="none"><i
                class="fs-3 fas fa-user-circle "></i></button>
            <div class="w-90 md-w-176 md-position-absolute-t100-e5  bg-white position-absolute top-100 start-5 rounded "
              style="z-index: 10;"><a id="loginsign" class="text-black px-3 py-3 text-start fs-14 fw-bolder"
                href="./login.html" style="display:none;">Login</a></div>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <main>
    <div class="bg-gray-300">
      <div class="py-5">
        <div class="md-max-w-1024 max-width-448 mx-auto bg-light rounded shadow-lg">
          <div class="d-flex ">
            <div class="w-100 p-40">
              <h1 class="fs-30 fw-bold">購物車</h1>
              <div class="mb-4">
                <div class="w-100 pt-3 pb-2 px-process">
                  <div class="d-flex  w-100 align-items-center">
                    <div
                      class="rounded-circle bg-green text-white justify-content-center d-flex align-items-center w-h-40 fs-18">
                      1</div>
                    <div class="w-bar rounded-pill">
                      <div class="w-25 h-100 rounded-pill" style="background-color: rgb(110, 231, 183);"></div>
                    </div>
                    <div class="rounded-circle bg-white justify-content-center d-flex align-items-center w-h-40 fs-18">2
                    </div>
                    <div class="w-bar rounded-pill"></div>
                    <div class="rounded-circle bg-white justify-content-center d-flex align-items-center w-h-40 fs-18">3
                    </div>
                    <div class="w-bar rounded-pill"></div>
                    <div class="rounded-circle bg-white justify-content-center d-flex align-items-center w-h-40 fs-18">4
                    </div>
                  </div>
                </div>
                <div class="w-100 d-flex ">
                  <div class="w-25 text-center fs-12 md-fs-16">確認購物車</div>
                  <div class="w-25 text-center fs-12 md-fs-16">付款與運送方式</div>
                  <div class="w-25 text-center fs-12 md-fs-16">填寫資料</div>
                  <div class="w-25 text-center fs-12 md-fs-16">完成訂購</div>

                </div>
              </div>
              <div id="cart" class="border-top w-100 " style="padding-top: 20px;">
                <span class="pb-4 mb-4 d-block" style="font-size: 24px;">訂單明細</span>

              </div>
              <div class="d-flex flex-column align-items-end mt-4 pt-4">
                <div class="d-flex justify-content-between align-items-center w-25">
                  <span class="light-grey fs-14 me-2">數量:</span>
                  <span id="amount" class="fs-18 fw-bold" style="color: rgb(31, 41, 55);">3</span>
                </div>
                <div class="d-flex justify-content-between align-items-center w-25">
                  <span class="light-grey fs-14 me-2">小計:</span>
                  <span id="subtotal" class="fs-18 fw-bold" style="color: rgb(31, 41, 55);">$24.90</span>
                </div>
                <div class="d-flex justify-content-between align-items-center w-25">
                  <span class="light-grey fs-14 me-2">運費:</span>
                  <span class="fs-18 fw-bold" style="color: rgb(31, 41, 55);">$24.90</span>
                </div>
                <div class="d-flex justify-content-between align-items-center w-25">
                  <span class="light-grey fs-14 me-2">總計:</span>
                  <span id="total" class="fs-18 fw-bold" style="color: rgb(31, 41, 55);">$24.90</span>
                </div>
              </div>
              <div class="d-flex justify-content-between align-items-center mt-4 pt-4 border-top">
                <div class="d-flex align-items-center">
                  <i class="pe-2"></i>
                  <a class="text-black" href="">返回購物</a>
                </div>
                <button class="px-5 border-blue-btn-1" onclick="location.href='./cart-2.html'">下一步</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <div
      class="container mx-auto px-20 py-96 d-flex md-items-center lg-items-start md-flex-row md-flex-nowrap flex-wrap flex-column">
      <div class="w-256 flex-shrink-0 md-mx-0 mx-auto text-center md-text-left">
        <a class="d-flex align-items-center md-justify-start justify-content-center grey" href="">
          <img src="./svg/資產 2.svg" alt="">
          <span class="ms-2 fs-5">數位方塊</span>
        </a>
        <p class="grey mt-1 fs-14">Air plant banjo lyft occupy retro adaptogen indego</p>
      </div>
      <div class="d-flex flex-grow-1 flex-wrap md-ps-80 md-mt-0 md-text-left text-center"
        style="margin-top: 40px; margin-bottom: -40px;">
        <div class="lg-w-25 md-w-50 w-100 px-3">
          <h2 class="grey fs-14 mb-12">CATEGORIES</h2>
          <nav class="list-unstyled mb-40">
            <li><a class="grey" href="">First Link</a></li>
            <li><a class="grey" href="">Second Link</a></li>
            <li><a class="grey" href="">Third Link</a></li>
            <li><a class="grey" href="">Fourth Link</a></li>
          </nav>
        </div>
        <div class="lg-w-25 md-w-50 w-100 px-3">
          <h2 class="grey fs-14 mb-12">CATEGORIES</h2>
          <nav class="list-unstyled mb-40">
            <li><a class="grey" href="">First Link</a></li>
            <li><a class="grey" href="">Second Link</a></li>
            <li><a class="grey" href="">Third Link</a></li>
            <li><a class="grey" href="">Fourth Link</a></li>
          </nav>
        </div>
        <div class="lg-w-25 md-w-50 w-100 px-3">
          <h2 class="grey fs-14 mb-12">CATEGORIES</h2>
          <nav class="list-unstyled mb-40">
            <li><a class="grey" href="">First Link</a></li>
            <li><a class="grey" href="">Second Link</a></li>
            <li><a class="grey" href="">Third Link</a></li>
            <li><a class="grey" href="">Fourth Link</a></li>
          </nav>
        </div>
        <div class="lg-w-25 md-w-50 w-100 px-3">
          <h2 class="grey fs-14 mb-12">CATEGORIES</h2>
          <nav class="list-unstyled mb-40">
            <li><a class="grey" href="">First Link</a></li>
            <li><a class="grey" href="">Second Link</a></li>
            <li><a class="grey" href="">Third Link</a></li>
            <li><a class="grey" href="">Fourth Link</a></li>
          </nav>
        </div>
      </div>
    </div>
    <div class="bg-grey">
      <div class="container mx-auto px-20 py-3 d-flex flex-wrap flex-column sm-flex-row">
        <p class="grey text-center sm-text-left fs-14">
          © 2020 Tailblocks —
          <a href="">@knyttneve</a>
        </p>
        <span class="d-inline-flex sm-ml-auto sm-mt-0 mt-1 justify-content-center sm-justify-start">
          <a class="ms-2" href=""><img class="w-3 h-3" src="./svg/svgexport-18.svg" alt=""></a>
          <a class="ms-2" href=""><img class="w-3 h-3" src="./svg/svgexport-19.svg" alt=""></a>
          <a class="ms-2" href=""><img class="w-3 h-3" src="./svg/svgexport-20.svg" alt=""></a>
          <a class="ms-2" href=""><img class="w-3 h-3" src="./svg/svgexport-21.svg" alt=""></a>
        </span>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="./js/bootstrap.min.js"></script>

  <!-- Swiper JS -->
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

  <!-- Initialize Swiper -->
  <script>
    // 編號,商品名,價格 
    const Goods = [
      {
        goodsnumber: ['#41551'],
        goodsname: ['Chicken momo'],
        goodsprice: [10.50.toFixed(2)],
        goodspic: ["./img/EEguU02.jpeg"]
      },
      {
        goodsnumber: ['#66999'],
        goodsname: ['Spicy Mexican potatoes'],
        goodsprice: [10.50.toFixed(2)],
        goodspic: ["./img/Uv2Yqzo.jpeg"]
      },
      {
        goodsnumber: ['#86577'],
        goodsname: ['Breakfast'],
        goodsprice: [10.50.toFixed(2)],
        goodspic: ["./img/xbTAITF.jpeg"]
      }
    ];
    function $(Nid) {
      return document.getElementById(Nid);
    }
    function CLS(Nclass) {
      return document.querySelectorAll(Nclass);
    }
    // 庫存單位
    var reserveNum = 9
    var amount = document.getElementById('amount')
    var subtotal = document.getElementById('subtotal')
    var total = document.getElementById('total')
    var cart = document.querySelector('#cart')


    Goods.forEach((a, index) => {
      var t = document.getElementById('goodscount' + index);
      cart.innerHTML +=
        `<div class="d-flex justify-content-between align-items-center mb-4 pb-4  border-bottom">
                  <div class="d-flex align-items-center">
                    <img width="60" class="rounded-circle" src="${a.goodspic}" alt="">
                    <div class="d-flex flex-column ms-12">
                      <span>${a.goodsname}</span>
                      <span class="light-grey fs-12">${a.goodsnumber}</span>
                    </div>
                  </div>
                  <div class="d-flex justify-content-center align-items-center">
                    <div class="pe-32 d-flex">
                      <span class="select-none" id="minus${index}">-</span>
                      <input id="goodscount${index}" type="text" class="bg-light rounded px-2 mx-2 pt-0 fs-14" value="1"
                        style="width: 32px; height: 24px;border: 1px solid rgb(229, 231, 235);" readonly="true">
                      <span class="select-none" id="plus${index}">+</span>
                    </div>
                    <div class="pe-32 w-69">
                      <span id="calculator${index}" class="fs-12">$${a.goodsprice}</span>
                    </div>
                  </div>
                </div>`
    });


    Goods.forEach((a, index) => {
      var calculator = document.getElementById('calculator' + index);
      var t = document.getElementById('goodscount' + index);
      document.getElementById('plus' + index).onclick = function () {

        if (t.value < reserveNum) {
          ++t.value;
          calculator.innerHTML = `$${(a.goodsprice * t.value).toFixed(2)}`
          let sum = 0
          let sum2 = 0
          let sum3 = 0
          Goods.forEach((a, index) => {
            var calculator = document.getElementById('calculator' + index);
            var t = document.getElementById('goodscount' + index);

            sum += Number(t.value)
            sum2 += Number(a.goodsprice * t.value)
            sum3 = sum2 +24.9 
          });
          console.log(sum);
          amount.innerHTML = sum;
          subtotal.innerHTML = '$'+sum2.toFixed(2);
          total.innerHTML = '$'+sum3.toFixed(2);
        } else {
          t = reserveNum
        }
      }


      document.getElementById('minus' + index).onclick = function () {

        if (t.value <= 0) {
          t.value = 0
        } else {
          --t.value;
          calculator.innerHTML = `$${(a.goodsprice * t.value).toFixed(2)}`
          let sum = 0
          let sum2 = 0
          let sum3 = 0
          Goods.forEach((a, index) => {
            var calculator = document.getElementById('calculator' + index);
            var t = document.getElementById('goodscount' + index);

            sum += Number(t.value)
            sum2 += Number(a.goodsprice * t.value)
            sum3 = sum2 + 24.9 
          });
          console.log(sum);
          amount.innerHTML = sum;
          subtotal.innerHTML = '$'+sum2.toFixed(2);
          total.innerHTML = '$'+sum3.toFixed(2); 
        }
      }

    });
          let sum = 0
          let sum2 = 0
          let sum3 = 0
          Goods.forEach((a, index) => {
            var calculator = document.getElementById('calculator' + index);
            var t = document.getElementById('goodscount' + index);

            sum += Number(t.value)
            sum2 += Number(a.goodsprice * t.value)
            sum3 = sum2 +24.9 
          });
          console.log(sum);
          amount.innerHTML = sum;
          subtotal.innerHTML = '$'+sum2.toFixed(2);
          total.innerHTML = '$'+sum3.toFixed(2);

    // 'goodsnumber'[
    //   '#41551' name:'info['Chicken momo',10.50],
    //   '#66999'['Spicy Mexican potatoes',10.50],
    //   '#86577'['Breakfast',10.50]]




    var swiper = new Swiper(".mySwiper", {
      cssMode: true,
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      pagination: {
        el: ".swiper-pagination",
      },
      mousewheel: true,
      keyboard: true,
    });

    // btn
    var Login = document.querySelector('#Login')
    var Loginsign = document.querySelector('#loginsign')
    // function loginfunction(){
    //   Loginsign.style.display = 'block'


    function loginfunction() {
      Loginsign.classList.toggle('block')

    }




  </script>
</body>

</html>